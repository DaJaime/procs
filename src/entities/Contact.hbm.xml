<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
"-//Hibernate/Hibernate Mapping DTD//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd"> 

<hibernate-mapping package="entities">
	<class name = "Contact">
		<cache usage="read-write"/>
		<id name = "id" type = "long" column = "ID_CONTACT">
			<generator class="increment"/>
		</id>
		<version name="version" type="long" access="field" column="VERSION"/>
		
		<property name = "firstName" column = "FIRSTNAME"/>
		<property name = "lastName" column = "LASTNAME"/>
		<property name = "email" column = "EMAIL"/>
		
		<set name="phones" inverse=" true " cascade="all" lazy="false">
			<key column="ID_CONT" />
			<one-to-many class="Phone"/>
		</set>
		
		<set name="groupeContact" cascade="persist, save-update" table="InGroupe" inverse="true" lazy="false">
			<key column="ID_CONTACT"/>
			<many-to-many class="GroupeContact" column="ID_GROUPECONTACT"/>
		</set>
		
	    <union-subclass name="Entreprise" table="Entreprise">
	    	<property name="siret" column="SIRET"/>
		</union-subclass>
		
	</class>
</hibernate-mapping>